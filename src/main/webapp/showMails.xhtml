<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">
<h:head>
	<title>Default title</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
		integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
		crossorigin="anonymous"></link>

	<!-- Optional theme -->
	<link rel="stylesheet"
		href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
		integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r"
		crossorigin="anonymous"></link>

	<!-- Latest compiled and minified JavaScript -->
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
		integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
		crossorigin="anonymous"></script>
</h:head>

<h:body>

	<div class="container">

		<!-- Static navbar -->
		<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed"
					data-toggle="collapse" data-target="#navbar" aria-expanded="false"
					aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Mail4J</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Home</a></li>
					<li><a href="#">About</a></li>
					<li><a href="#">Contact</a></li>
					<li class="dropdown"><a href="#" class="dropdown-toggle"
						data-toggle="dropdown" role="button" aria-haspopup="true"
						aria-expanded="false">Dropdown <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="#">Action</a></li>
							<li><a href="#">Another action</a></li>
							<li><a href="#">Something else here</a></li>
							<li role="separator" class="divider"></li>
							<li class="dropdown-header">Nav header</li>
							<li><a href="#">Separated link</a></li>
							<li><a href="#">One more separated link</a></li>
						</ul></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li class="active"><a href="./">Default <span
							class="sr-only">(current)</span></a></li>
					<li><a href="../navbar-static-top/">Static top</a></li>
					<li><a href="../navbar-fixed-top/">Fixed top</a></li>
				</ul>
			</div>
			<!--/.nav-collapse -->
		</div>
		<!--/.container-fluid --> </nav>

		<!-- Main component for a primary marketing message or call to action -->

		<table class="table table-condensed">
			<thead>
				<tr>
					<th>No</th>
					<th>Sent Date</th>
					<th>From</th>
					<th>Subject</th>
					<th>Text</th>
				</tr>
			</thead>
			<tbody id="message-table">
			</tbody>
		</table>
	</div>
	<!-- /container     -->
</h:body>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script>

var mails = [
             <ui:repeat value="#{checking.mails}" var="mail" varStatus="loop">
               { "subject": "#{mail.subject}", "from": "#{mail.from}","text":"#{mail.text}","sentDate":"#{mail.sentDate}" }#{loop.last ? '' : ','}
             </ui:repeat>
           ];
           
/* var y=0;
var json="";

for(;;){
	if("#{checking.mails}".length == y)
		break;
	json+='{ "subject": "#{mail.subject}", "from": "#{mail.from}","text":edtText,"sentDate":"#{mail.sentDate}"';
	if("#{checking.mails}".length !== 1)
		json+=",";
	y++;
} */
	   var messageTable = document.getElementById("message-table");

		   var i = 0;
	   for (;;) {
			if(mails.length===i)
				break;
	   		var message = mails[i];
	       
	       var tr = document.createElement('tr');
	       
	       var no = document.createElement('td');
	       var from = document.createElement('td');
	       var subject = document.createElement('td');
	       var text = document.createElement('td');
	       var sentDate = document.createElement('td');

	       no.innerHTML = i;
	       subject.innerHTML = message.subject;
	       from.innerHTML = message.from;
	       text.innerHTML = message.text;
	       sentDate.innerHTML = message.sentDate;

	       tr.appendChild(no);
	       tr.appendChild(sentDate);
	       tr.appendChild(from);
	       tr.appendChild(subject);
	       tr.appendChild(text);
	       
	       messageTable.appendChild(tr);

	       ++i;
	   }
</script>
</html>